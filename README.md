# PCA_movielens
PCA method for dataset movielens-full-25-million
stack:
1. python
2. pandas
3. numpy
4. sklearn
5. matplotlib
6. seaborn
7. gensim

  В качестве исследуемых данных используются «Полные 25 миллионов рекомендательных данных MovieLens». Этот набор данных (ml-25m) описывает 5-звездочный рейтинг и активность по добавлению тегов в текстовом формате от MovieLens, сервиса рекомендаций фильмов. В нем содержится 25000095 оценок и 1093360 тегов для 62423 фильмов. Эти данные были созданы 162541 пользователями в период с 09 января 1995 года по 21 ноября 2019 года. Этот набор данных был создан 21 ноября 2019 года. Пользователи были выбраны случайным образом для включения. Все выбранные пользователи оценили не менее 20 фильмов. Демографическая информация не включена. Каждый пользователь представлен идентификатором, и никакая другая информация не предоставляется. Данные содержатся в файлах:
1.	genom_scores.csv.
2.	genome_tags.csv.
3.	links.csv.
4.	movies.csv.
5.	ratings.csv.
6.	tags.csv.
	Производить уменьшение размерности мы будем для задачи кластеризации фильмов, поэтому в рамках данной работы будут использоваться только следующие файлы: movies.csv, ratings.csv, tags.csv. Теперь давайте подробно рассмотрим содержание каждого файла, начнем с ratings.csv
	Все оценки содержатся в файле "ratings.csv". Каждая строка этого файла после строки заголовка представляет собой одну оценку одного фильма одним пользователем и имеет следующий формат:
1.	userId — идентификатор пользователя.
2.	movieId — идентификатор фильма.
3.	rating — рейтинг.
4.	timestamp — временная метка.
	В нашем Все теги содержатся в файле "tags.csv". Каждая строка этого файла после строки заголовка представляет собой один тег, примененный к одному фильму одним пользователем, и имеет следующий формат
1.	userId — идентификатор пользователя.
2.	movieId — идентификатор фильма.
3.	tag — тег.
4.	timestamp — временная метка.
	Строки в этом файле упорядочены сначала по идентификатору пользователя, затем, по идентификатору фильма. Теги  это созданные пользователем метаданные о фильмах. Каждый тег обычно представляет собой одно слово или короткую фразу. Смысл, значение и назначение конкретного тега определяется каждым пользователем.
	И последний рассмотренный нами файл movies.csv. Каждая строка этого файла после строки заголовка представляет один фильм и имеет следующий формат:
1.	movieId — идентификатор фильма.
2.	title — название фильма.
3.	genres — жанры.
Жанры представлены в виде списка, разделенного на разделители, и выбираются из следующих: боевик, приключения, анимация, детский, комедийный, криминальный, документальный, драма, фэнтези, фильм-нуар, ужасы, уюзикл, детектив, мелодрама, научная фантастика, триллер, военный, вестерн
	Чтобы выполнить уменьшение размерности методом PCA, нужно выбрать необходимые столбцы. Было принято решение сформировать таблицу, в которой каждая строка представляет один конкретный фильм, который имеет следующие показатели:
1.	movieId — идентификатор фильма.
2.	genres — жанры.
3.	tag — тег.
4.	count_tag — количество тегов.
5.	popularity — популярность.
Столбец популярность рассчитывался как медианное значение вектора, элементы которого, характеризуют сколько дней прошло со дня оставления первого тега. Таким образом мы могли бы оценить сколько дней был популярным тот или иной фильм. 
Так как столбец genres содержит категориальный признак, а столбец tag является просто небольшим текстом, который никак не ограничивается, было принято решение применить обученную текстовую модель, которая перевела была наш текст в вектор. И чтобы характеризовать этот вектор, было использовано две характеристики векторов. Это среднее значение и его длина. Таким образом вместо столбцов genres и tag, в конечном датасете были столбцы genr_mean, genr_l2, tag_mean,  tag_l2. 
